"use strict";(globalThis.webpackChunktonatiuhxx_blog=globalThis.webpackChunktonatiuhxx_blog||[]).push([[747],{3030:e=>{e.exports=JSON.parse('{"permalink":"/tonatiuhpp-blog/build-macos","source":"@site/blog/2025-12-03-build-macos.md","title":"Building Tonatiuh++ on macOS","description":"Tonatiuh++ running on macOS","date":"2025-12-03T00:00:00.000Z","tags":[{"inline":false,"label":"macOS","permalink":"/tonatiuhpp-blog/tags/macos","description":"Posts about building and running Tonatiuh++ on macOS."},{"inline":false,"label":"Build","permalink":"/tonatiuhpp-blog/tags/build","description":"Posts about building Tonatiuh++ from source on different platforms."},{"inline":false,"label":"Development","permalink":"/tonatiuhpp-blog/tags/development","description":"Technical notes and development updates for Tonatiuh++."}],"readingTime":3.18,"hasTruncateMarker":true,"authors":[{"name":"Manuel Blanco","title":"Tonatiuh++ Developer & CST Researcher","url":"https://github.com/mblancomuriel","socials":{"github":"https://github.com/CST-Modelling-Tools"},"imageURL":"https://github.com/mblancomuriel.png","key":"mblanco","page":null}],"frontMatter":{"slug":"build-macos","title":"Building Tonatiuh++ on macOS","authors":"mblanco","tags":["macos","build","development"]},"unlisted":false,"nextItem":{"title":"Building Tonatiuh++ from Source: A Cross-Platform Overview","permalink":"/tonatiuhpp-blog/build-overview"}}')},3217:(e,n,i)=>{i.d(n,{A:()=>l});const l=i.p+"assets/images/tonatiuhxx-apple-screenshot-01f57a69bb5ace9ee3c09c2520df595a.png"},7602:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var l=i(3030),s=i(4848),a=i(8453);const r={slug:"build-macos",title:"Building Tonatiuh++ on macOS",authors:"mblanco",tags:["macos","build","development"]},t="1. Install Homebrew",o={authorsImageUrls:[void 0]},c=[{value:"Qt not found",id:"qt-not-found",level:2},{value:"CMake cannot find Qt",id:"cmake-cannot-find-qt",level:2},{value:"Missing OpenGL libraries",id:"missing-opengl-libraries",level:2},{value:"build_deps.py failures",id:"build_depspy-failures",level:2},{value:"Permission errors",id:"permission-errors",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Tonatiuh++ running on macOS",src:i(3217).A+"",width:"2000",height:"1125"})}),"\n",(0,s.jsx)(n.p,{children:"macOS provides a clean and robust environment for building Tonatiuh++ thanks to its modern Clang compiler, strong UNIX foundations, and excellent package management through Homebrew. This guide describes the complete process for installing the necessary tools, building third-party dependencies, and compiling the Tonatiuh++ application on macOS Ventura, Sonoma, and newer."}),"\n",(0,s.jsx)(n.p,{children:"If Homebrew is not installed, open Terminal and run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"\n'})}),"\n",(0,s.jsx)(n.p,{children:"After installation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    brew update\n"})}),"\n",(0,s.jsx)(n.p,{children:"Homebrew will be used to install CMake, Python, Qt6, and development libraries."}),"\n",(0,s.jsx)(n.h1,{id:"2-install-required-development-tools",children:"2. Install Required Development Tools"}),"\n",(0,s.jsx)(n.p,{children:"Install the essential compiler and developer tools:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    xcode-select --install\n"})}),"\n",(0,s.jsx)(n.p,{children:"This provides:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Apple Clang (C++17 compliant)"}),"\n",(0,s.jsx)(n.li,{children:"macOS SDK"}),"\n",(0,s.jsx)(n.li,{children:"Build utilities"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Verify compiler:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    clang++ --version\n"})}),"\n",(0,s.jsx)(n.p,{children:"You should see Apple Clang 14 or newer."}),"\n",(0,s.jsx)(n.h1,{id:"3-install-build-dependencies-via-homebrew",children:"3. Install Build Dependencies via Homebrew"}),"\n",(0,s.jsx)(n.p,{children:"Install core tools needed for building Tonatiuh++:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    brew install cmake git python3\n"})}),"\n",(0,s.jsx)(n.p,{children:"Optional but recommended tools:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    brew install ninja pkg-config\n"})}),"\n",(0,s.jsx)(n.p,{children:"Ninja speeds up the build process but is not required."}),"\n",(0,s.jsx)(n.h1,{id:"4-install-qt-6",children:"4. Install Qt 6"}),"\n",(0,s.jsx)(n.p,{children:"Tonatiuh++ requires Qt 6.x for its graphical interface."}),"\n",(0,s.jsx)(n.p,{children:"Install Qt via Homebrew:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    brew install qt@6\n"})}),"\n",(0,s.jsx)(n.p,{children:"Qt will be installed at:"}),"\n",(0,s.jsx)(n.p,{children:"/opt/homebrew/opt/qt@6        (Apple Silicon)\r\n/usr/local/opt/qt@6           (Intel Macs)"}),"\n",(0,s.jsx)(n.p,{children:"Add Qt to your PATH for convenience:"}),"\n",(0,s.jsx)(n.p,{children:"Apple Silicon:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    echo 'export PATH=\"/opt/homebrew/opt/qt@6/bin:$PATH\"' >> ~/.zshrc\r\n    source ~/.zshrc\n"})}),"\n",(0,s.jsx)(n.p,{children:"Intel Macs:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    echo 'export PATH=\"/usr/local/opt/qt@6/bin:$PATH\"' >> ~/.zshrc\r\n    source ~/.zshrc\n"})}),"\n",(0,s.jsx)(n.p,{children:"Verify:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    qmake --version\r\n    qtpaths --qt-version\n"})}),"\n",(0,s.jsx)(n.h1,{id:"5-clone-the-tonatiuh-repository",children:"5. Clone the Tonatiuh++ Repository"}),"\n",(0,s.jsx)(n.p,{children:"Navigate to the folder where you want the source code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    git clone https://github.com/CST-Modelling-Tools/tonatiuhpp.git\r\n    cd tonatiuhpp\n"})}),"\n",(0,s.jsx)(n.h1,{id:"6-build-third-party-dependencies",children:"6. Build Third-Party Dependencies"}),"\n",(0,s.jsx)(n.p,{children:"Tonatiuh++ uses Coin3D, SoQt, simage, and other support libraries."}),"\n",(0,s.jsx)(n.p,{children:"They are automatically built via:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    python3 build_deps.py\n"})}),"\n",(0,s.jsx)(n.p,{children:"This may take time, especially on the first run."}),"\n",(0,s.jsx)(n.p,{children:"If you encounter network SSL issues while downloading sources:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    pip3 install --upgrade certifi\n"})}),"\n",(0,s.jsx)(n.h1,{id:"7-configure-the-build-with-cmake",children:"7. Configure the Build with CMake"}),"\n",(0,s.jsx)(n.p,{children:"On macOS, Qt installed via Homebrew is discovered using CMake\u2019s CMAKE_PREFIX_PATH."}),"\n",(0,s.jsx)(n.p,{children:"Apple Silicon:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'    cmake -B build -S source \\\r\n      -DCMAKE_BUILD_TYPE=Release \\\r\n      -DCMAKE_PREFIX_PATH="/opt/homebrew/opt/qt@6"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Intel Macs:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'    cmake -B build -S source \\\r\n      -DCMAKE_BUILD_TYPE=Release \\\r\n      -DCMAKE_PREFIX_PATH="/usr/local/opt/qt@6"\n'})}),"\n",(0,s.jsx)(n.p,{children:"CMake should detect:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Clang"}),"\n",(0,s.jsx)(n.li,{children:"Qt6"}),"\n",(0,s.jsxs)(n.li,{children:["Coin3D / SoQt from ",(0,s.jsx)(n.code,{children:"deps/install/"})]}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"8-build-tonatiuh",children:"8. Build Tonatiuh++"}),"\n",(0,s.jsx)(n.p,{children:"Compile:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    cmake --build build --config Release --parallel\n"})}),"\n",(0,s.jsx)(n.p,{children:"The final application will appear in:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    build/application/tonatiuhpp.app\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can launch it from Finder or by running:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    open build/application/TonatiuhXX.app\n"})}),"\n",(0,s.jsx)(n.h1,{id:"9-macos-application-bundle-notes",children:"9. macOS Application Bundle Notes"}),"\n",(0,s.jsxs)(n.p,{children:["macOS uses ",(0,s.jsx)(n.code,{children:".app"})," bundles that must include Qt plugins and frameworks."]}),"\n",(0,s.jsx)(n.p,{children:"If plugins are missing, you may see errors such as:"}),"\n",(0,s.jsx)(n.p,{children:"This application failed to start because no Qt platform plugin could be initialized."}),"\n",(0,s.jsx)(n.p,{children:"To fix this, use:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    macdeployqt build/application/TonatiuhXX.app\n"})}),"\n",(0,s.jsx)(n.p,{children:"macdeployqt is included with the Qt installation."}),"\n",(0,s.jsx)(n.h1,{id:"10-troubleshooting",children:"10. Troubleshooting"}),"\n",(0,s.jsx)(n.h2,{id:"qt-not-found",children:"Qt not found"}),"\n",(0,s.jsx)(n.p,{children:"Check your Qt install location:"}),"\n",(0,s.jsx)(n.p,{children:"Apple Silicon:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    ls /opt/homebrew/opt/qt@6/\n"})}),"\n",(0,s.jsx)(n.p,{children:"Apple Intel:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    ls /usr/local/opt/qt@6/\n"})}),"\n",(0,s.jsx)(n.h2,{id:"cmake-cannot-find-qt",children:"CMake cannot find Qt"}),"\n",(0,s.jsx)(n.p,{children:"Pass the explicit prefix path:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    -DCMAKE_PREFIX_PATH=/opt/homebrew/opt/qt@6\n"})}),"\n",(0,s.jsx)(n.h2,{id:"missing-opengl-libraries",children:"Missing OpenGL libraries"}),"\n",(0,s.jsx)(n.p,{children:"Install:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    brew install mesa\n"})}),"\n",(0,s.jsx)(n.h2,{id:"build_depspy-failures",children:"build_deps.py failures"}),"\n",(0,s.jsxs)(n.p,{children:["Make sure ",(0,s.jsx)(n.code,{children:"requests"})," is installed:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    pip3 install requests\n"})}),"\n",(0,s.jsx)(n.p,{children:"And verify Python:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    python3 --version\n"})}),"\n",(0,s.jsx)(n.h2,{id:"permission-errors",children:"Permission errors"}),"\n",(0,s.jsx)(n.p,{children:"If needed:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"    chmod +x build/application/tonatiuhpp.app/Contents/MacOS/tonatiuhpp\n"})}),"\n",(0,s.jsx)(n.h1,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(n.p,{children:"To build Tonatiuh++ on macOS:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Install Homebrew, developer tools, CMake, Git, Python."}),"\n",(0,s.jsx)(n.li,{children:"Install Qt 6 using Homebrew."}),"\n",(0,s.jsx)(n.li,{children:"Clone the Tonatiuh++ repository."}),"\n",(0,s.jsx)(n.li,{children:"Build third-party dependencies with build_deps.py."}),"\n",(0,s.jsx)(n.li,{children:"Configure using CMake with the Qt6 prefix path."}),"\n",(0,s.jsx)(n.li,{children:"Build, then run the Tonatiuh++ application bundle."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"macOS provides one of the smoothest build environments due to its native UNIX tooling and robust package ecosystem."}),"\n",(0,s.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var l=i(6540);const s={},a=l.createContext(s);function r(e){const n=l.useContext(a);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(a.Provider,{value:n},e.children)}}}]);